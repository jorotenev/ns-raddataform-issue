"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var single_view_model_1 = require("./single-view-model");
var page;
var dataform;
var expense = {
    id: 1,
    amount: {
        raw_amount: 11,
        currency: "EUR"
    },
    name: "opa",
    timestamp_utc: "time",
    tags: []
};
function navigatingTo(args) {
    page = args.object;
    dataform = page.getViewById('expenseEditForm');
    page.bindingContext = new single_view_model_1.SingleExpenseModel(expense);
}
exports.navigatingTo = navigatingTo;
function onValidate(d) {
    console.log("onValidate " + d.propertyName + "=" + d.entityProperty.valueCandidate + " ");
    d.returnValue = true;
}
exports.onValidate = onValidate;
function onValidated(d) {
    console.log("onValidated " + d.propertyName + "=" + d.entityProperty.valueCandidate + " ");
    d.returnValue = true;
}
exports.onValidated = onValidated;
function onCommit(d) {
    console.log("onCommit " + d.propertyName + "=" + d.entityProperty.valueCandidate + " ");
    d.returnValue = true;
}
exports.onCommit = onCommit;
function onCommitted(d) {
    console.log("onCommitted " + d.propertyName + "=" + d.entityProperty + " ");
    console.dir(JSON.parse(dataform.editedObject));
    console.dir(expense);
}
exports.onCommitted = onCommitted;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2luZ2xlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2luZ2xlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEseURBQXVEO0FBR3ZELElBQUksSUFBVSxDQUFDO0FBQ2YsSUFBSSxRQUFRLENBQUM7QUFDYixJQUFJLE9BQU8sR0FBRztJQUNWLEVBQUUsRUFBQyxDQUFDO0lBQ0osTUFBTSxFQUFDO1FBQ0gsVUFBVSxFQUFDLEVBQUU7UUFDYixRQUFRLEVBQUMsS0FBSztLQUNqQjtJQUNELElBQUksRUFBQyxLQUFLO0lBQ1YsYUFBYSxFQUFDLE1BQU07SUFDcEIsSUFBSSxFQUFDLEVBQUU7Q0FDVixDQUFDO0FBQ0Ysc0JBQTZCLElBQWU7SUFDeEMsSUFBSSxHQUFTLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDekIsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUMvQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksc0NBQWtCLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDekQsQ0FBQztBQUpELG9DQUlDO0FBRUQsb0JBQTJCLENBQW9CO0lBQzNDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWMsQ0FBQyxDQUFDLFlBQVksU0FBSSxDQUFDLENBQUMsY0FBYyxDQUFDLGNBQWMsTUFBRyxDQUFDLENBQUM7SUFDaEYsQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7QUFDekIsQ0FBQztBQUhELGdDQUdDO0FBRUQscUJBQTRCLENBQW9CO0lBQzVDLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWUsQ0FBQyxDQUFDLFlBQVksU0FBSSxDQUFDLENBQUMsY0FBYyxDQUFDLGNBQWMsTUFBRyxDQUFDLENBQUM7SUFFakYsQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7QUFDekIsQ0FBQztBQUpELGtDQUlDO0FBRUQsa0JBQXlCLENBQW9CO0lBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBWSxDQUFDLENBQUMsWUFBWSxTQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsY0FBYyxNQUFHLENBQUMsQ0FBQztJQUM5RSxDQUFDLENBQUMsV0FBVyxHQUFDLElBQUksQ0FBQTtBQUN0QixDQUFDO0FBSEQsNEJBR0M7QUFFRCxxQkFBNEIsQ0FBb0I7SUFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBZSxDQUFDLENBQUMsWUFBWSxTQUFJLENBQUMsQ0FBQyxjQUFjLE1BQUcsQ0FBQyxDQUFDO0lBQ2xFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUMvQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3pCLENBQUM7QUFKRCxrQ0FJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RXZlbnREYXRhfSBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy9kYXRhL29ic2VydmFibGVcIjtcbmltcG9ydCB7UGFnZX0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvcGFnZVwiO1xuaW1wb3J0IHtTaW5nbGVFeHBlbnNlTW9kZWx9IGZyb20gXCIuL3NpbmdsZS12aWV3LW1vZGVsXCI7XG5pbXBvcnQge0RhdGFGb3JtRXZlbnREYXRhfSBmcm9tIFwibmF0aXZlc2NyaXB0LXByby11aS9kYXRhZm9ybVwiO1xuXG5sZXQgcGFnZTogUGFnZTtcbmxldCBkYXRhZm9ybTtcbmxldCBleHBlbnNlID0ge1xuICAgIGlkOjEsXG4gICAgYW1vdW50OntcbiAgICAgICAgcmF3X2Ftb3VudDoxMSxcbiAgICAgICAgY3VycmVuY3k6XCJFVVJcIlxuICAgIH0sXG4gICAgbmFtZTpcIm9wYVwiLFxuICAgIHRpbWVzdGFtcF91dGM6XCJ0aW1lXCIsXG4gICAgdGFnczpbXVxufTtcbmV4cG9ydCBmdW5jdGlvbiBuYXZpZ2F0aW5nVG8oYXJnczogRXZlbnREYXRhKSB7XG4gICAgcGFnZSA9IDxQYWdlPmFyZ3Mub2JqZWN0O1xuICAgIGRhdGFmb3JtID0gcGFnZS5nZXRWaWV3QnlJZCgnZXhwZW5zZUVkaXRGb3JtJyk7XG4gICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IG5ldyBTaW5nbGVFeHBlbnNlTW9kZWwoZXhwZW5zZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVmFsaWRhdGUoZDogRGF0YUZvcm1FdmVudERhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhgb25WYWxpZGF0ZSAke2QucHJvcGVydHlOYW1lfT0ke2QuZW50aXR5UHJvcGVydHkudmFsdWVDYW5kaWRhdGV9IGApO1xuICAgIGQucmV0dXJuVmFsdWUgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25WYWxpZGF0ZWQoZDogRGF0YUZvcm1FdmVudERhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhgb25WYWxpZGF0ZWQgJHtkLnByb3BlcnR5TmFtZX09JHtkLmVudGl0eVByb3BlcnR5LnZhbHVlQ2FuZGlkYXRlfSBgKTtcblxuICAgIGQucmV0dXJuVmFsdWUgPSB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb25Db21taXQoZDogRGF0YUZvcm1FdmVudERhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhgb25Db21taXQgJHtkLnByb3BlcnR5TmFtZX09JHtkLmVudGl0eVByb3BlcnR5LnZhbHVlQ2FuZGlkYXRlfSBgKTtcbiAgICBkLnJldHVyblZhbHVlPXRydWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ29tbWl0dGVkKGQ6IERhdGFGb3JtRXZlbnREYXRhKSB7XG4gICAgY29uc29sZS5sb2coYG9uQ29tbWl0dGVkICR7ZC5wcm9wZXJ0eU5hbWV9PSR7ZC5lbnRpdHlQcm9wZXJ0eX0gYCk7XG4gICAgY29uc29sZS5kaXIoSlNPTi5wYXJzZShkYXRhZm9ybS5lZGl0ZWRPYmplY3QpKTtcbiAgICBjb25zb2xlLmRpcihleHBlbnNlKTtcbn0iXX0=